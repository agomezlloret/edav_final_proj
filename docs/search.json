[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "NYC Marathon 2024 Analysis",
    "section": "",
    "text": "1 Introduction\n\nExperiencing the 2024 New York City Marathon for the first time was a transformative moment for us. The energy coursing through the city streets was palpable—crowds cheered, competitors pushed themselves to the limit, and the shared emotion between runners and spectators created a unique, unforgettable atmosphere. In a city often defined by its fast pace and individualism, this event stood out as a rare moment of unity. It felt as though the entire city had come together for a day to celebrate determination, perseverance, and community spirit. This experience underscored for us that the marathon is more than just a race; it is a powerful symbol of collective ambition and support.\nThis newfound appreciation inspired us to take on the challenge of running the marathon ourselves next year. To prepare for this journey, we wanted to delve deeper into the data from the 2024 race. Analyzing this dataset offers us insights not only for our training strategy but also to better understand the dynamics of marathon running. By studying various aspects of the race, we aim to uncover trends that can guide our preparation and shed light on what it truly takes to participate in such a remarkable event.\nOur project focuses on answering several key questions that we believe will be both interesting and informative:\n\nHow do women’s finish times compare to men’s finish times? We want to identify whether there is an age range where female times are comparable or even superior to male times.\nWhat is the most common finish time for women in their 20s and 30s? By finding this ‘average’ time, we hope to set realistic goals for ourselves and understand typical performance benchmarks.\nWhich country, apart from the United States, had the highest representation? Furthermore, we seek to explore which non-U.S. country performed best in terms of average finish times.\nHow many participants over the age of 60 completed the marathon, and what was the distribution of their finish times? This analysis will provide insight into the capabilities and dedication of older runners, showcasing the marathon’s inclusivity across age groups.\n\nOur aim is to provide readers with an engaging overview of the 2024 NYC Marathon through data-driven insights that highlight its diversity, competitiveness, and spirit. Whether you are a running enthusiast, a data analyst, or someone inspired by community events, this exploration seeks to share the compelling stories hidden within the race statistics.",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Introduction</span>"
    ]
  },
  {
    "objectID": "data.html",
    "href": "data.html",
    "title": "2  Data",
    "section": "",
    "text": "2.1 Description\nThe dataset was scraped by researcher and analyst Joe Hovde from the official NYC Marathon results page for the 2024 NYC Marathon, held on November 3, 2024. The official results page is maintained by the event organizers and provides a comprehensive record of all participants’ results. The data is presented in a tabular format with 17 columns and 55,525 rows. The columns include detailed attributes such as participant age, gender, country, overall time, pace, placement (overall and by category), and the number of marathons completed by each individual. With data on the run times and ages of 55 thousand runners, this is sure to be an interesting project! This dataset is static for the 2024 marathon and future updates would depend on the availability of results from subsequent marathons and similar scraping efforts. Even though this is not a dynamic dataset, it could serve as a valuable component for an ongoing project that analyzes trends over multiple years, capturing the sheer talent that participates year after year.\nQuestions for future research could center around analyzing impacts of national or global events and how that affects participation from certain countries. We will import the data into R using read.csv and then will take steps to pre-process the data and conduct any required cleaning before we begin to answer our posed questions.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Data</span>"
    ]
  },
  {
    "objectID": "data.html#missing-value-analysis",
    "href": "data.html#missing-value-analysis",
    "title": "2  Data",
    "section": "2.2 Missing value analysis",
    "text": "2.2 Missing value analysis\n\n\nCode\ndata &lt;- read.csv(\"NYC Marathon Results, 2024 - Marathon Runner Results.csv\")\nlibrary(tidyr)\nlibrary(ggplot2)\nlibrary(dplyr)\n\n\n\nAttaching package: 'dplyr'\n\n\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n\n\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n\n\nCode\nhead(data)\n\n\n  runnerId firstName bib age gender               city countryCode\n1 41771195      Abdi   7  35      M           Nijmegen         NLD\n2 41775746     Evans   3  35      M           Kapsabet         KEN\n3 41766254    Albert   2  30      M          Kapkitony         KEN\n4 41763160   Tamirat   1  33      M        Addis Ababa         ETH\n5 41757406  Geoffrey   6  31      M Kapchorwa District         KEN\n6 41772970    Conner  10  27      M              Provo         USA\n  stateProvince iaaf overallPlace overallTime pace genderPlace ageGradeTime\n1                NED            1     2:07:39 4:53           1         6:57\n2             -  KEN            2     2:07:45 4:53           2         7:03\n3                KEN            3     2:08:00 4:53           3         8:00\n4                ETH            4     2:08:12 4:54           4         8:02\n5             -  KEN            5     2:08:50 4:55           5         8:50\n6            UT  USA            6     2:09:00 4:56           6         9:00\n  ageGradePlace ageGradePercent racesCount\n1             1           96.86          4\n2             2           96.79          2\n3             3           96.06          5\n4             4           96.03          4\n5             6           95.44          5\n6             7           95.31          2\n\n\n\n\nCode\ndata &lt;- data |&gt; \n  mutate(across(where(is.character), ~ na_if(., \"-\"))) |&gt; \n  mutate(across(where(is.character), ~ ifelse(. == \"\", NA, .)))\n\ndata &lt;- data |&gt; \n  mutate(across(where(is.integer), ~ na_if(., -1)))\n\nmarathon_data &lt;- data[,-9]\nhead(marathon_data)\n\n\n  runnerId firstName bib age gender               city countryCode\n1 41771195      Abdi   7  35      M           Nijmegen         NLD\n2 41775746     Evans   3  35      M           Kapsabet         KEN\n3 41766254    Albert   2  30      M          Kapkitony         KEN\n4 41763160   Tamirat   1  33      M        Addis Ababa         ETH\n5 41757406  Geoffrey   6  31      M Kapchorwa District         KEN\n6 41772970    Conner  10  27      M              Provo         USA\n  stateProvince overallPlace overallTime pace genderPlace ageGradeTime\n1          &lt;NA&gt;            1     2:07:39 4:53           1         6:57\n2          &lt;NA&gt;            2     2:07:45 4:53           2         7:03\n3          &lt;NA&gt;            3     2:08:00 4:53           3         8:00\n4          &lt;NA&gt;            4     2:08:12 4:54           4         8:02\n5          &lt;NA&gt;            5     2:08:50 4:55           5         8:50\n6            UT            6     2:09:00 4:56           6         9:00\n  ageGradePlace ageGradePercent racesCount\n1             1           96.86          4\n2             2           96.79          2\n3             3           96.06          5\n4             4           96.03          4\n5             6           95.44          5\n6             7           95.31          2\n\n\nCode\nmissing_values &lt;- colSums(is.na(marathon_data))\nmissing_values\n\n\n       runnerId       firstName             bib             age          gender \n              0               0              12               0              12 \n           city     countryCode   stateProvince    overallPlace     overallTime \n             62              12             308               0               0 \n           pace     genderPlace    ageGradeTime   ageGradePlace ageGradePercent \n              0               0               0               0               0 \n     racesCount \n              0 \n\n\nCode\nunique_country_codes &lt;- marathon_data |&gt; \n  filter(is.na(stateProvince)) |&gt; \n  count(countryCode) \nunique_country_codes\n\n\n   countryCode  n\n1          ARG  7\n2          AUS  5\n3          AUT  3\n4          BEL  2\n5          BHS  1\n6          BMU  2\n7          BRA  5\n8          CAN  3\n9          CHE  6\n10         CHI  4\n11         CHL  2\n12         CHN 13\n13         COL  3\n14         CRI  1\n15         CZE  1\n16         DEU 15\n17         DNK  3\n18         ECU  2\n19         ESP 11\n20         ETH  3\n21         FIN  1\n22         FRA 19\n23         GBR 24\n24         GRC  3\n25         GTM  1\n26         HKG  9\n27         HND  2\n28         HUN  2\n29         IDN  1\n30         IND  1\n31         IRL  6\n32         ISR 18\n33         ITA 22\n34         JPN  3\n35         KEN  6\n36         LBN  2\n37         LIE  1\n38         LUX  1\n39         LVA  2\n40         MAR  1\n41         MEX  5\n42         NIC  1\n43         NLD  7\n44         NOR  6\n45         NZL  3\n46         PER  4\n47         PHL  1\n48         POL  5\n49         PRT  3\n50         PRY  1\n51         ROM 16\n52         SGP  1\n53         SRB  1\n54         SWE  3\n55         TTO  3\n56         UGA  1\n57         URY  1\n58         USA 15\n59         VEN  1\n60         ZWE  1\n61        &lt;NA&gt; 12\n\n\nFirst, we decided to drop the ‘IAAF’ column as it was mostly redundant with the country trigraph column and overall does not provide necessary insight into the dataset.\nLooking at the original dataset, we observed that some columns contained blank entries, NA values, and “-” placeholders. To address this, we decided to transform the dataset by replacing blanks and “-” with NA. After this transformation, we found that 308 NA values remained in the ‘stateProvince’ column, 12 remained in the ‘countryCode’, 12 in ‘bib’, 12 in ‘gender’, and 62 in ‘city’. Initially, we speculated that the missing values in ‘stateProvince’ might be due to certain countries not having a ‘stateProvince’ field for competitors to fill in. However, upon further investigation, we filtered for missing values in the ‘stateProvince’ column and identified distinct ‘countryCode’ values. This revealed that the USA also had missing entries, suggesting that some competitors chose not to provide a ‘stateProvince’ value.\n\n\nCode\nunique_country_codes$countryCode[is.na(unique_country_codes$countryCode)] &lt;- \"Unknown\"\n\nunique_country_codes &lt;- unique_country_codes |&gt; \n  mutate(countryCode = reorder(countryCode, n)) \n\nggplot(unique_country_codes, aes(x = n, y = countryCode)) +\n  geom_bar(stat = \"identity\", fill = \"lightpink\") +\n  geom_text(aes(label=n), vjust = .5, hjust = 0, color = 'darkblue') +\n  labs(title = \"Missing stateProvince Values by Country\",\n       x = \"Missing Values\",\n       y = \"Country Code\") +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\nIn order to correctly sort the instances of missing values per country code, we needed to rename the missing country code values from NA to “Unknown” so that ggplot would recognize it and include it in the ordering. Somewhat surprising is the fact that USA is in the upper quartile of missing values, considering that every participating US runner has an associated state that they could have included in their registration.\n\n\nCode\nlibrary(ggcorrplot)\n\nmissing_matrix &lt;- is.na(marathon_data)\n\n# Compute the correlation matrix of missingness\nmissing_corr &lt;- cor(missing_matrix, use = \"pairwise.complete.obs\")\n\n\nWarning in cor(missing_matrix, use = \"pairwise.complete.obs\"): the standard\ndeviation is zero\n\n\nCode\n# Plot the correlation matrix\nggcorrplot(missing_corr, title = \"Correlation of Missing Data\", lab = TRUE)\n\n\n\n\n\n\n\n\n\nPlotting a correlation heat map helps us identify if missing values in one column is correlated with missing values in another column. From this plot, we see that ‘countryCode’, ‘bib’, and ‘gender’ have a strong correlation which tells us that these values always have missing values simultaneously. ‘City’, ‘countryCode’, ‘bib’, and ‘gender’ have moderate correlations across each column which could suggest that if a value is missing in one of the 3 columns, then there’s a higher chance that ‘city’ is missing a value as well for that entry.\n\n\nCode\n# Filter rows where \"city\" is missing \ncity_na_rows &lt;- marathon_data |&gt;\n  filter(is.na(city))\n\n# Count occurrences of countryCode in rows with missing city\ncountry_counts_city_na &lt;- city_na_rows |&gt;\n  count(countryCode, sort = TRUE)\n\ncountry_counts_city_na\n\n\n   countryCode  n\n1          USA 13\n2         &lt;NA&gt; 12\n3          GBR  7\n4          ITA  5\n5          CHN  4\n6          DEU  4\n7          ARG  2\n8          MEX  2\n9          NLD  2\n10         AUS  1\n11         CAN  1\n12         ESP  1\n13         HUN  1\n14         IRL  1\n15         ISR  1\n16         LUX  1\n17         NIC  1\n18         NZL  1\n19         POL  1\n20         SGP  1\n\n\n\n\nCode\ncountry_counts_city_na &lt;- country_counts_city_na |&gt;\n  mutate(proportion_missing = n / sum(n))\n\ncountry_counts_full &lt;- marathon_data |&gt;\n  count(countryCode, sort = TRUE) |&gt;\n  mutate(proportion_full = n / sum(n))\n\ncountry_comparison_city_na &lt;- country_counts_city_na |&gt;\n  left_join(country_counts_full, by = \"countryCode\", suffix = c(\"_missing\", \"_full\"))\n\n# View the comparison\ncountry_comparison_city_na\n\n\n   countryCode n_missing proportion_missing n_full proportion_full\n1          USA        13         0.20967742  37695    0.6788956127\n2         &lt;NA&gt;        12         0.19354839     12    0.0002161228\n3          GBR         7         0.11290323   1742    0.0313738203\n4          ITA         5         0.08064516   2345    0.0422339889\n5          CHN         4         0.06451613    198    0.0035660255\n6          DEU         4         0.06451613   1236    0.0222606440\n7          ARG         2         0.03225806    185    0.0033318925\n8          MEX         2         0.03225806   1065    0.0191808947\n9          NLD         2         0.03225806    876    0.0157769613\n10         AUS         1         0.01612903    710    0.0127872632\n11         CAN         1         0.01612903    823    0.0148224191\n12         ESP         1         0.01612903    609    0.0109682300\n13         HUN         1         0.01612903     15    0.0002701534\n14         IRL         1         0.01612903    215    0.0038721994\n15         ISR         1         0.01612903    271    0.0048807723\n16         LUX         1         0.01612903     22    0.0003962251\n17         NIC         1         0.01612903      6    0.0001080614\n18         NZL         1         0.01612903    126    0.0022692890\n19         POL         1         0.01612903    258    0.0046466393\n20         SGP         1         0.01612903     74    0.0013327570\n\n\n\n\nCode\nggplot(country_comparison_city_na, aes(x = reorder(countryCode, proportion_missing), y = proportion_missing)) +\n  geom_bar(stat = \"identity\", fill = \"blue\", alpha = 0.6) +\n  geom_point(aes(y = proportion_full), color = \"red\", size = 3) +\n  coord_flip() +\n  labs(title = \"Proportion of Missing `city` by Country\",\n       x = \"Country Code\",\n       y = \"Proportion\") +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\nIn this bar plot, we’re comparing the proportions of ‘countryCode’ values in rows with missing ‘city’ versus the entire marathon dataset. The goal is to identify whether the rows with missing ‘city’ values are disproportionately associated with certain countries.\nBlue bars represent the proportion of rows with missing ‘city’ values for each ‘countryCode’. The red dots show the proportion of rows for each ‘countryCode’ in the entire dataset (to include rows where ‘city’ is not missing a value).\nThe blue bars highlight the countries contributing to rows with missing ‘city’ values with the red dots providing a baseline to compare whether a country is over represented or underrepresented in rows with missing ‘city’ values compared to their overall representation with the dataset.\nFrom this, we can see that the USA makes up around 70% of the total dataset meaning most runners are from the US. Even with this large percentage of runners, only about 2% of the rows with missing ‘city’ values are associated with the US. This could indicate that the data collection process for US participants is more robust than for international participants. It could also represent a systemic issue where missing city values disproportionately occur for non-USA participants.\nCountries like ITA, MEX, and NLD seem to be highly affected by missing ’city ’values.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Data</span>"
    ]
  },
  {
    "objectID": "data.html#summary",
    "href": "data.html#summary",
    "title": "2  Data",
    "section": "2.3 Summary",
    "text": "2.3 Summary\nOverall, the missing values from this dataset could be explained for a few plausible reasons:\n\nErrors in transferring from paper to digital data entry for registrants that filled out paper forms. With USA’s domination of online systems, this could explain the low percentage of missing values.\nTechnical issues or runner actions such as discarding the bib during the race due to it causing discomfort could result in bib and other associated data like countryCode and city to be flagged as missing.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Data</span>"
    ]
  },
  {
    "objectID": "data.html#future-analysis",
    "href": "data.html#future-analysis",
    "title": "2  Data",
    "section": "2.4 Future Analysis",
    "text": "2.4 Future Analysis\nTo hone in on some of these thoughts for further exploration, we could look for data that contains registration times to see if missing values were concentrated among participants who registered late or early.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Data</span>"
    ]
  }
]